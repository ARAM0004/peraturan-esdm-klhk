<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Peraturan ESDM & KLHK - Tambang Emas</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons as SVG components
        const Search = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>;
        const Plus = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg>;
        const Edit2 = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"></path></svg>;
        const Trash2 = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>;
        const FileText = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path><path d="M14 2v4a2 2 0 0 0 2 2h4"></path><path d="M10 9H8"></path><path d="M16 13H8"></path><path d="M16 17H8"></path></svg>;
        const Calendar = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg>;
        const Tag = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"></path><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"></circle></svg>;
        const Bell = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path></svg>;
        const Download = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" x2="12" y1="15" y2="3"></line></svg>;
        const BookOpen = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>;
        const X = () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>;

        function RegulationsPortal() {
            const [regulations, setRegulations] = useState([]);
            const [filteredRegs, setFilteredRegs] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedCategory, setSelectedCategory] = useState('Semua');
            const [selectedMinistry, setSelectedMinistry] = useState('Semua');
            const [showAddForm, setShowAddForm] = useState(false);
            const [editingId, setEditingId] = useState(null);
            const [isAdmin, setIsAdmin] = useState(false);
            const [loading, setLoading] = useState(true);
            
            const [formData, setFormData] = useState({
                title: '',
                number: '',
                ministry: 'ESDM',
                category: 'Perizinan',
                date: '',
                summary: '',
                link: '',
                status: 'Aktif'
            });

            const categories = ['Semua', 'Perizinan', 'Lingkungan', 'Keselamatan Kerja', 'Teknis Pertambangan', 'Reklamasi', 'Pajak & Royalti', 'Lainnya'];
            const ministries = ['Semua', 'ESDM', 'KLHK', 'Gabungan'];

            useEffect(() => {
                loadRegulations();
            }, []);

            useEffect(() => {
                filterRegulations();
            }, [regulations, searchTerm, selectedCategory, selectedMinistry]);

            const loadRegulations = () => {
                try {
                    // Load from regulations.json (untuk production dengan scraper)
                    fetch('regulations.json')
                        .then(response => response.json())
                        .then(data => {
                            setRegulations(data.published || []);
                            setPendingRegs(data.pending || []);
                            setLastScrapedDate(data.lastUpdated);
                        })
                        .catch(() => {
                            // Fallback ke localStorage jika JSON tidak ada
                            const stored = localStorage.getItem('regulations-data');
                            if (stored) {
                                setRegulations(JSON.parse(stored));
                            } else {
                                setRegulations(initialData);
                                localStorage.setItem('regulations-data', JSON.stringify(initialData));
                            }
                        });
                } catch (error) {
                    console.log('Loading initial data');
                    setRegulations([]);
                    setPendingRegs([]);
                } finally {
                    setLoading(false);
                }
            };
                            {
                                id: '1',
                                title: 'Peraturan Menteri ESDM tentang Pertambangan Mineral dan Batubara',
                                number: 'Permen ESDM No. 7 Tahun 2024',
                                ministry: 'ESDM',
                                category: 'Teknis Pertambangan',
                                date: '2024-03-15',
                                summary: 'Mengatur teknis pertambangan mineral dan batubara termasuk persyaratan eksplorasi dan eksploitasi untuk tambang emas',
                                link: 'https://jdih.esdm.go.id',
                                status: 'Aktif'
                            },
                            {
                                id: '2',
                                title: 'Peraturan Menteri KLHK tentang Izin Lingkungan',
                                number: 'Permen LHK No. 4 Tahun 2024',
                                ministry: 'KLHK',
                                category: 'Lingkungan',
                                date: '2024-02-20',
                                summary: 'Persyaratan AMDAL dan izin lingkungan untuk kegiatan pertambangan termasuk pengelolaan limbah B3',
                                link: 'https://jdih.menlhk.go.id',
                                status: 'Aktif'
                            },
                            {
                                id: '3',
                                title: 'Peraturan tentang Reklamasi dan Pascatambang',
                                number: 'Permen ESDM No. 26 Tahun 2018',
                                ministry: 'ESDM',
                                category: 'Reklamasi',
                                date: '2018-11-28',
                                summary: 'Pedoman reklamasi dan pascatambang untuk pertambangan mineral dan batubara',
                                link: 'https://jdih.esdm.go.id',
                                status: 'Aktif'
                            },
                            {
                                id: '4',
                                title: 'Peraturan K3 Pertambangan',
                                number: 'Permen ESDM No. 38 Tahun 2019',
                                ministry: 'ESDM',
                                category: 'Keselamatan Kerja',
                                date: '2019-12-10',
                                summary: 'Penerapan sistem manajemen keselamatan pertambangan dan standar K3 di area tambang',
                                link: 'https://jdih.esdm.go.id',
                                status: 'Aktif'
                            }
                        ];
                        setRegulations(initialData);
                        localStorage.setItem('regulations-data', JSON.stringify(initialData));
                    }
                } catch (error) {
                    console.log('Memuat data baru');
                    setRegulations([]);
                } finally {
                    setLoading(false);
                }
            };

            const filterRegulations = () => {
                let filtered = regulations;

                if (selectedMinistry !== 'Semua') {
                    filtered = filtered.filter(reg => reg.ministry === selectedMinistry);
                }

                if (selectedCategory !== 'Semua') {
                    filtered = filtered.filter(reg => reg.category === selectedCategory);
                }

                if (searchTerm) {
                    filtered = filtered.filter(reg =>
                        reg.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        reg.number.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        reg.summary.toLowerCase().includes(searchTerm.toLowerCase())
                    );
                }

                setFilteredRegs(filtered);
            };

            const handleSubmit = () => {
                if (!formData.title || !formData.number || !formData.date || !formData.summary) {
                    alert('Mohon lengkapi semua field yang wajib diisi (*)');
                    return;
                }
                
                let updatedRegs;
                if (editingId) {
                    updatedRegs = regulations.map(reg =>
                        reg.id === editingId ? { ...formData, id: editingId } : reg
                    );
                } else {
                    const newReg = {
                        ...formData,
                        id: Date.now().toString()
                    };
                    updatedRegs = [newReg, ...regulations];
                }

                setRegulations(updatedRegs);
                localStorage.setItem('regulations-data', JSON.stringify(updatedRegs));
                
                resetForm();
            };

            const handleEdit = (reg) => {
                setFormData(reg);
                setEditingId(reg.id);
                setShowAddForm(true);
            };

            const handleDelete = (id) => {
                if (confirm('Yakin ingin menghapus peraturan ini?')) {
                    const updatedRegs = regulations.filter(reg => reg.id !== id);
                    setRegulations(updatedRegs);
                    localStorage.setItem('regulations-data', JSON.stringify(updatedRegs));
                }
            };

            const resetForm = () => {
                setFormData({
                    title: '',
                    number: '',
                    ministry: 'ESDM',
                    category: 'Perizinan',
                    date: '',
                    summary: '',
                    link: '',
                    status: 'Aktif'
                });
                setEditingId(null);
                setShowAddForm(false);
            };

            const getMinistryColor = (ministry) => {
                const colors = {
                    'ESDM': 'bg-blue-100 text-blue-800',
                    'KLHK': 'bg-green-100 text-green-800',
                    'Gabungan': 'bg-purple-100 text-purple-800'
                };
                return colors[ministry] || 'bg-gray-100 text-gray-800';
            };

            const getCategoryIcon = (category) => {
                const icons = {
                    'Perizinan': 'üìã',
                    'Lingkungan': 'üå±',
                    'Keselamatan Kerja': '‚õëÔ∏è',
                    'Teknis Pertambangan': '‚öíÔ∏è',
                    'Reklamasi': 'üå≥',
                    'Pajak & Royalti': 'üí∞',
                    'Lainnya': 'üìÑ'
                };
                return icons[category] || 'üìÑ';
            };

            if (loading) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50 flex items-center justify-center">
                        <div className="text-center">
                            <div className="animate-spin rounded-full h-16 w-16 border-b-4 border-yellow-600 mx-auto mb-4"></div>
                            <p className="text-gray-600 text-lg">Memuat data...</p>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-50">
                    <header className="bg-gradient-to-r from-yellow-600 to-amber-600 text-white shadow-xl">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-4">
                                    <div className="bg-white p-3 rounded-lg shadow-lg">
                                        <BookOpen className="h-8 w-8 text-yellow-600" />
                                    </div>
                                    <div>
                                        <h1 className="text-3xl font-bold">Portal Peraturan ESDM & KLHK</h1>
                                        <p className="text-yellow-100 text-sm mt-1">Informasi Regulasi Pertambangan Emas Terkini</p>
                                    </div>
                                </div>
                                <button
                                    onClick={() => setIsAdmin(!isAdmin)}
                                    className="bg-white text-yellow-700 px-4 py-2 rounded-lg font-semibold hover:bg-yellow-50 transition shadow-lg"
                                >
                                    {isAdmin ? 'üëÅÔ∏è Mode Publik' : 'üîê Mode Admin'}
                                </button>
                            </div>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <div className="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className="text-gray-500 text-sm font-medium">Total Peraturan</p>
                                        <p className="text-3xl font-bold text-gray-800 mt-1">{regulations.length}</p>
                                    </div>
                                    <FileText className="h-12 w-12 text-blue-500 opacity-20" />
                                </div>
                            </div>
                            <div className="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-600">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className="text-gray-500 text-sm font-medium">ESDM</p>
                                        <p className="text-3xl font-bold text-gray-800 mt-1">
                                            {regulations.filter(r => r.ministry === 'ESDM').length}
                                        </p>
                                    </div>
                                    <Tag className="h-12 w-12 text-blue-600 opacity-20" />
                                </div>
                            </div>
                            <div className="bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-600">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className="text-gray-500 text-sm font-medium">KLHK</p>
                                        <p className="text-3xl font-bold text-gray-800 mt-1">
                                            {regulations.filter(r => r.ministry === 'KLHK').length}
                                        </p>
                                    </div>
                                    <Tag className="h-12 w-12 text-green-600 opacity-20" />
                                </div>
                            </div>
                            <div className="bg-white rounded-xl shadow-lg p-6 border-l-4 border-yellow-500">
                                <div className="flex items-center justify-between">
                                    <div>
                                        <p className="text-gray-500 text-sm font-medium">Peraturan Aktif</p>
                                        <p className="text-3xl font-bold text-gray-800 mt-1">
                                            {regulations.filter(r => r.status === 'Aktif').length}
                                        </p>
                                    </div>
                                    <Bell className="h-12 w-12 text-yellow-500 opacity-20" />
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div className="md:col-span-2">
                                    <div className="relative">
                                        <div className="absolute left-3 top-3 h-5 w-5 text-gray-400">
                                            <Search />
                                        </div>
                                        <input
                                            type="text"
                                            placeholder="Cari peraturan..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                        />
                                    </div>
                                </div>
                                <div>
                                    <select
                                        value={selectedMinistry}
                                        onChange={(e) => setSelectedMinistry(e.target.value)}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                    >
                                        {ministries.map(m => (
                                            <option key={m} value={m}>{m}</option>
                                        ))}
                                    </select>
                                </div>
                                <div>
                                    <select
                                        value={selectedCategory}
                                        onChange={(e) => setSelectedCategory(e.target.value)}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                    >
                                        {categories.map(c => (
                                            <option key={c} value={c}>{c}</option>
                                        ))}
                                    </select>
                                </div>
                            </div>
                        </div>

                        {isAdmin && (
                            <div className="mb-6">
                                <button
                                    onClick={() => setShowAddForm(!showAddForm)}
                                    className="bg-gradient-to-r from-yellow-600 to-amber-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-yellow-700 hover:to-amber-700 transition shadow-lg flex items-center space-x-2"
                                >
                                    <Plus className="h-5 w-5" />
                                    <span>Tambah Peraturan Baru</span>
                                </button>
                            </div>
                        )}

                        {isAdmin && showAddForm && (
                            <div className="bg-white rounded-xl shadow-xl p-6 mb-8 border-2 border-yellow-200">
                                <div className="flex items-center justify-between mb-6">
                                    <h2 className="text-2xl font-bold text-gray-800">
                                        {editingId ? 'Edit Peraturan' : 'Tambah Peraturan Baru'}
                                    </h2>
                                    <button onClick={resetForm} className="text-gray-400 hover:text-gray-600">
                                        <X className="h-6 w-6" />
                                    </button>
                                </div>
                                <div className="space-y-4">
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Judul Peraturan *</label>
                                            <input
                                                type="text"
                                                value={formData.title}
                                                onChange={(e) => setFormData({...formData, title: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Nomor Peraturan *</label>
                                            <input
                                                type="text"
                                                value={formData.number}
                                                onChange={(e) => setFormData({...formData, number: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Kementerian *</label>
                                            <select
                                                value={formData.ministry}
                                                onChange={(e) => setFormData({...formData, ministry: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            >
                                                <option value="ESDM">ESDM</option>
                                                <option value="KLHK">KLHK</option>
                                                <option value="Gabungan">Gabungan</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Kategori *</label>
                                            <select
                                                value={formData.category}
                                                onChange={(e) => setFormData({...formData, category: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            >
                                                {categories.filter(c => c !== 'Semua').map(c => (
                                                    <option key={c} value={c}>{c}</option>
                                                ))}
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Tanggal Terbit *</label>
                                            <input
                                                type="date"
                                                value={formData.date}
                                                onChange={(e) => setFormData({...formData, date: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                            <select
                                                value={formData.status}
                                                onChange={(e) => setFormData({...formData, status: e.target.value})}
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            >
                                                <option value="Aktif">Aktif</option>
                                                <option value="Dicabut">Dicabut</option>
                                                <option value="Direvisi">Direvisi</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Ringkasan *</label>
                                        <textarea
                                            rows={3}
                                            value={formData.summary}
                                            onChange={(e) => setFormData({...formData, summary: e.target.value})}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            placeholder="Ringkasan singkat tentang peraturan ini..."
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Link Dokumen</label>
                                        <input
                                            type="url"
                                            value={formData.link}
                                            onChange={(e) => setFormData({...formData, link: e.target.value})}
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"
                                            placeholder="https://..."
                                        />
                                    </div>
                                    <div className="flex space-x-3 pt-4">
                                        <button
                                            onClick={handleSubmit}
                                            className="bg-gradient-to-r from-yellow-600 to-amber-600 text-white px-6 py-2 rounded-lg font-semibold hover:from-yellow-700 hover:to-amber-700 transition"
                                        >
                                            {editingId ? 'Update' : 'Simpan'}
                                        </button>
                                        <button
                                            onClick={resetForm}
                                            className="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg font-semibold hover:bg-gray-300 transition"
                                        >
                                            Batal
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        <div className="space-y-4">
                            {filteredRegs.length === 0 ? (
                                <div className="bg-white rounded-xl shadow-lg p-12 text-center">
                                    <FileText className="h-16 w-16 text-gray-300 mx-auto mb-4" />
                                    <p className="text-gray-500 text-lg">Tidak ada peraturan yang ditemukan</p>
                                    <p className="text-gray-400 text-sm mt-2">Coba ubah filter atau kata kunci pencarian</p>
                                </div>
                            ) : (
                                filteredRegs.map((reg) => (
                                    <div key={reg.id} className="bg-white rounded-xl shadow-lg hover:shadow-xl transition p-6 border-l-4 border-yellow-500">
                                        <div className="flex items-start justify-between">
                                            <div className="flex-1">
                                                <div className="flex items-center space-x-3 mb-3">
                                                    <span className="text-2xl">{getCategoryIcon(reg.category)}</span>
                                                    <span className={`px-3 py-1 rounded-full text-xs font-semibold ${getMinistryColor(reg.ministry)}`}>
                                                        {reg.ministry}
                                                    </span>
                                                    <span className="px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-700">
                                                        {reg.category}
                                                    </span>
                                                    {reg.status !== 'Aktif' && (
                                                        <span className="px-3 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700">
                                                            {reg.status}
                                                        </span>
                                                    )}
                                                </div>
                                                <h3 className="text-xl font-bold text-gray-800 mb-2">{reg.title}</h3>
                                                <p className="text-sm font-semibold text-yellow-700 mb-3">{reg.number}</p>
                                                <p className="text-gray-600 mb-3 leading-relaxed">{reg.summary}</p>
                                                <div className="flex items-center space-x-4 text-sm text-gray-500">
                                                    <div className="flex items-center space-x-1">
                                                        <Calendar className="h-4 w-4" />
                                                        <span>{new Date(reg.date).toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
                                                    </div>
                                                    {reg.link && (
                                                        <a
                                                            href={reg.link}
                                                            target="_blank"
                                                            rel="noopener noreferrer"
                                                            className="flex items-center space-x-1 text-yellow-600 hover:text-yellow-700 font-medium"
                                                        >
                                                            <Download className="h-4 w-4" />
                                                            <span>Lihat Dokumen</span>
                                                        </a>
                                                    )}
                                                </div>
                                            </div>
                                            {isAdmin && (
                                                <div className="flex space-x-2 ml-4">
                                                    <button
                                                        onClick={() => handleEdit(reg)}
                                                        className="p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition"
                                                    >
                                                        <Edit2 className="h-5 w-5" />
                                                    </button>
                                                    <button
                                                        onClick={() => handleDelete(reg.id)}
                                                        className="p-2 text-red-600 hover:bg-red-50 rounded-lg transition"
                                                    >
                                                        <Trash2 className="h-5 w-5" />
                                                    </button>
                                                </div>
                                            )}
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>
                    </div>

                    <footer className="bg-gray-800 text-gray-300 mt-16">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                            <div className="text-center">
                                <p className="text-sm">Portal Informasi Peraturan ESDM & KLHK untuk Industri Pertambangan Emas</p>
                                <p className="text-xs text-gray-400 mt-2">Data diperbarui secara berkala ‚Ä¢ ¬© 2024</p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<RegulationsPortal />, document.getElementById('root'));
    </script>
</body>
</html>
                                
